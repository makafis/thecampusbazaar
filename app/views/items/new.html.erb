
<div class="panel panel-info">
<!-- <div class= "panel-heading"> -->
<div class="panel-heading">
  <h1>Sell an Item</h1>
</div>
  <div class= "panel-body">

    <%= form_for([current_user, Item.new]) do |item_form| %>
    <%= item_form.hidden_field :seller_id, :value => current_user.id %>
<div class="form-group">
        <%= item_form.label :name %>
        <%= item_form.text_field :name %>
</div>
<div class="form-group">
        <%= item_form.label :price %>
        <%= item_form.number_field :price %>
</div>
<div class="upload-preview">
<div class="form-group">
 <img />
        <%= item_form.label :product %>
        <%= item_form.file_field :product %>
</div>
<div class = "check_box">
        <%= item_form.label :delete_product%>
        <%= item_form.check_box(:delete_product)%><br>
</div>
</div>
        <%= item_form.label :description %>
        <%= item_form.text_area :description, class: 'form-control' %><br>
<div class = "form-group">
<%= item_form.label :condition %>
<%= item_form.select :condition,['New','Excellent','Good','Acceptable'],:prompt => 'Select One', :class => 'form-control' %>
</div>  
        <%= item_form.submit 'Add Item', :class => 'btn btn-info'%>

    <% end %>
</div>
</div>
<script type="text/javascript">
    $(document).ready(function(){
    var preview = $(".upload-preview img");
    
    $(".file").change(function(event){
       var input = $(event.currentTarget);
       var file = input[0].files[0];
       var reader = new FileReader();
       reader.onload = function(e){
           image_base64 = e.target.result;
           preview.attr("src", image_base64);
       };
       reader.readAsDataURL(file);
    });
});
</script>
